<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Путешествия по Беларуси</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .routes {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .route-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      cursor: pointer;
      width: 250px;
      text-align: center;
      transition: transform 0.2s;
    }

    .route-card:hover {
      transform: scale(1.05);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      width: 90%;
      max-width: 800px;
      border-radius: 10px;
      position: relative;
    }

    .close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
    }

    .map-container {
      width: 100%;
      height: 400px;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <h1>Путешествия по Беларуси</h1>

  <div class="routes">
    <div class="route-card" onclick="openModal('velo1')">
      Веломаршрут в пригород Минска
    </div>
    <div class="route-card" onclick="openModal('minsk-volozhin')">
      Минск → Воложин
    </div>
  </div>

  <!-- Модальное окно -->
  <div id="modal" class="modal" onclick="closeModal(event)">
    <div class="modal-content">
      <span class="close" onclick="closeModal(event)">&times;</span>
      <h2 id="route-title"></h2>
      <p id="route-description"></p>
      <div id="map" class="map-container"></div>
    </div>
  </div>

  <script>
    const routes = {
      'velo1': {
        title: "Веломаршрут из Минска",
        description: "Маршрут проходит через Брилевичи, Прилуки, Строчицы и Озерцо.",
        points: [
          [53.838027, 27.480251],
          [53.859242, 27.483136],
          [53.839806, 27.475524],
          [53.834475, 27.472525],
          [53.791344, 27.451042],
          [53.789859, 27.456915],
          [53.798572, 27.404612],
          [53.813258, 27.372397],
          [53.829896, 27.342826],
          [53.828036, 27.337817],
          [53.838261, 27.373433],
          [53.861379, 27.484606]
        ]
      },
      'minsk-volozhin': {
        title: "Минск → Воложин",
        description: "Классический маршрут на запад Беларуси. Примерное расстояние — 75 км.",
        points: [
          [53.9006, 27.5590], // Минск
          [54.0807, 26.5287]  // Воложин
        ]
      }
    };

    let mapInstance;
    let routeInstance;

    function openModal(id) {
      const route = routes[id];
      document.getElementById('route-title').innerText = route.title;
      document.getElementById('route-description').innerText = route.description;
      document.getElementById('modal').style.display = 'flex';

      ymaps.ready(() => {
        if (mapInstance) {
          mapInstance.destroy();
        }

        mapInstance = new ymaps.Map("map", {
          center: route.points[0],
          zoom: 9
        });

        routeInstance = new ymaps.multiRouter.MultiRoute({
          referencePoints: route.points,
          params: { routingMode: 'auto' }
        }, {
          boundsAutoApply: true
        });

        mapInstance.geoObjects.add(routeInstance);
      });
    }

    function closeModal(event) {
      if (event.target.id === "modal" || event.target.className === "close") {
        document.getElementById('modal').style.display = 'none';
      }
    }
  </script>
</body>
</html>
